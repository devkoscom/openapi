# API 서비스

## **API Gateway Domain**

> `{APIGWAddr}`

#### **Production**\(상용\)      \|  `apigw.koscom.co.kr`

#### **Sandbox**\(샌드박스\)  \|  `sandbox-apigw.koscom.co.kr`

## 공통 URI

**URI   \|**  **`https://{APIGWAddr}/{버전 정보}/{서비스 구분}/{API 구분}?[QueryString]`**

API는 버전으로 구분되기 때문에 URI에 버전정보가 포함되어 있습니다.

{% hint style="success" %}
`{APIGWAddr}` : 오픈API플랫폼 Gateway 주소
{% endhint %}

 오픈플랫폼에서 제공하고 있는 API는 크게 **1. 금융거래정보** 를 받기 위한 것과  **2. 기타 정보** 를 전달하기 위한 것으로 나뉩니다.

 금융거래정보 API는 주로 금융회사의 계좌를 기반으로 하고 있으며, 관련 법령에 따라 본인 동의절차를 거쳐 제3자에게 제공되어야 하기 때문에 추가적인 권한 확인 절차가 요구됩니다.

 계좌기반 API를 사용하여 개발한 서비스는 요청 메시지의 키가 되는 실계좌번호를 노출시키지 않고, 안전하게 제3자에게 제공하기 위해 서비스 이용자\(최종사용자;end user\)가 금융투자 핀테크 포탈에 가입하여 가상계좌번호를 발급하고, 금융거래정보 제3자 제공 동의서를 작성한 후 가상계좌번호를 사용하고자 하는 핀테크 서비스에 연결하는 선행 과정이 필요합니다. 그리고 핀테크 서비스가 해당 API를 이용하려고 시도하는 과정에서 서비스 이용자의 확인 과정이 개입됩니다.

 계좌기반 API를 제외한 나머지 API는 금융투자 핀테크 포탈 가입 여부와 관계없이 오픈플랫폼에 등록이 된 핀테크 기업의 경우 이용자에게 서비스를 제공할 수 있습니다.

단, 주문 및 일임매매 관련 API는 **투자일임업 라이선스**를 보유한 법인만 사용 가능 합니다.

제공 중인 API 유형은 다음과 같습니다.

## 공통 서비스

### 서비스 연동

* **핀테크 서비스 이용자가 오픈플랫폼 회원인지 확인하기 위한 API** 
* 가상계좌번호 발급, 정보제공동의서 작성 등 사전절차 안내 필요 여부 확인用
* **핀테크 서비스 이용자가 발급받은 가상계좌번호 목록을 금투사 名과 함께 제공**
* 금투사名과 가상계좌목록을 핀테크 서비스 App에 출력하여 이용할 계좌를 간편하게 선택할 수 있도록 함

{% hint style="info" %}
**코스콤** 
{% endhint %}

{% page-ref page="common/" %}

## 계좌 서비스

### 자산 포트폴리오 조회

* **투자자의 자산내역\(증권, 파생, 펀드, 기타 금융상품\)을 보유비율\(구성비\)로 제공**
* 자산 상세내역\(투자금액, 보유주식수 등을 노출시키지 않고, 자산의 구성 비율만 부담 없이 제공할 수 있게 함으로써 투자성향분석 등 자문의 기초자료로 활용 가능

### 관심종목 조회

* **투자자가 HTS 등에 등록해 놓은 관심종목 리스트를 조회할 수 있는 기능**
* 투자자가 관심을 보이는 종목에 대해 뉴스, 분석정보, 이벤트\(급등락, 공시 등\)의 정보를 능동적으로 제공할 수 있는 기초자료로 활용 가능

### 계좌잔고 조회

* **투자자의 자산내역을 보유종목, 보유수량, 손익, 예탁금 등으로 상세하게 제공**
* 통합자산관리, 자문서비스를 위한 기본정보, 향후 주문서비스 확대 시 자산변동 실시간 조회용으로 활용 

### 거래내역 조회

* **금융상품의 매수, 매도, 현금입출금 내역을 지정한 기간별로 조회하기 위한 API**
* 투자성향 분석, 매수/매도 시점 분석을 통해 거래행태에 대한 자문 가능

{% hint style="info" %}
**금융투자회사**
{% endhint %}

{% page-ref page="account.md" %}

## **주문 서비스**

### 신규주문

* **신규 주문 제출**
* 증권사 마다 주문번호 부여 기준이 다를 수 있고, List 주문은 지원 하지 않음

### 주문취소

* **제출된 주문 취소**
* List 취소 주문은 지원 하지 않음

### 주문정정

* **제출된 주문 정정**
* 가격 정정 : 일부 정정은 불가, 잔량 전체 지정
* 수량 정정 : 수량 증가 불가

{% hint style="info" %}
금융투자회사 &lt;-&gt; STB-HUB &lt;-&gt; 오픈플랫폼 &lt;-&gt; 핀테크

**금융투자회사  \(일임형 자문업자만 이용 가능\)**
{% endhint %}

{% page-ref page="order.md" %}

## 일임매매 서비스

### 주문체결 조회

* **금융상품의 주문 및 체결된 정보를 조회**

### 일임계좌 잔고 조회

* **자산내역을 보유종목, 보유수량, 손익 등으로 상세하게 제공**

### 결제 예정 정산 조회

* **매매 정리된 정보를 통해 결제예정 사항을 확인**

### 일임 설정계좌 조회

* **일임매매 기관의 일임설정 계좌에 대한 정보를 제공**

### 일임계좌 거래내역 조회

* **금융상품의 매수, 매도, 현금입출금 내역을 지정한 기간별로 조회**

{% page-ref page="b2baccount.md" %}

{% hint style="info" %}
금투사 -&gt; 오픈플랫폼 -&gt; 핀테크

**금융투자회사  \(일임형 자문업자만 이용 가능\)**
{% endhint %}

## 시세 서비스

### 주식시세

* **종목리스트 조회 API**
* **종목마스터 데이터 조회 API**    \(종목명, 상하한가, 전일거래량, 기준가 등  \)
* **종목별 과거 데이터 조회 API**   \(일, 주 및 월별 과거 시세 제공  \)
* **투자자별 종가 정보 조회 API**   \(투자주체별 매수/매도 거래량, 거래대금  \)
* **종목별 호가 정보 조회 API**
* **종목별 체결 정보 조회 API**       \(현재가, 체결량, 누적거래량\)

### 선물시세

* **종목리스트 조회 API**
*  **종목마스터 데이터 조회 API**   \(종목명, 상하한가, 전일거래량, 기준가 등  \)
* **종목별 과거 데이터 조회 API**   \(일, 주 및 월별 과거 시세 제공  \)
* **종목별 호가 정보 조회 API**
* **종목별 체결 정보 조회 API**   \(현재가, 체결량, 누적거래량\)

### 옵션시세

* **종목리스트 조회 API**
* **종목마스터 데이터 조회 API**    \(종목명, 상하한가, 전일거래량, 기준가 등  \)
* **종목별 과거 데이터 조회 API**   \(일, 주 및 월별 과거 시세 제공  \)
* **종목별 호가 정보 조회 API**
* **종목별 체결 정보 조회 API**       \(현재가, 체결량, 누적거래   \)

### 주식 시세표

*  주식시장\(유가증권, 코스닥\) 의 전종목 현재가 리스트 , 복수 종목 현재가, 복수 종목 호가잔량등을 시장별로 제공
* 개별 종목기준 현재가 조회 대비 조회 빈도를 줄일 수 있는 방식의 조회로 시장기준/복수종목기준 방식을 제공 

{% hint style="info" %}
한국거래소 -&gt; 코스콤 -&gt;오픈플랫폼 -&gt; 핀테크

**코스콤 \(**[**정보시세 라이센스 필요**](https://developers.koscom.co.kr/documentation/marketdata)**\)**
{% endhint %}

{% page-ref page="market/" %}

## 재무 서비스

### NICE-기업정보

* 기업개요 정보를 조회
* 기업재무분석정보를 조회
* 기업재무정보 상태표를 조회

{% hint style="info" %}
_**NICE평가정보 제공**_
{% endhint %}

### Fabotdw

* 업종 리스트 조회 및 특정 업종에 속해있는 종목 리스트를 조회. 
* 코스피/코스닥 상장 기업들에 대해 업종별/종목별로 구분된 부채율을 조회 
* 코스피/코스닥 상장 기업들에 대한 업종별/종목별로 구분된 영업이익율을 조회
* 투자금액에 따른 분산된 포트폴리오를 조회. 
* 파봇랭크 서비스의 종합점수와 랭킹을 조회

{% hint style="info" %}
_**BSMIT 제공**_
{% endhint %}

{% page-ref page="financialinfo/" %}

## 분석 서비스

### BC카드 업종정보

* BC카드의 가맹점을 통해 분류한 업종 약 270개 업종 코드 및 업종 명 조회
* 카드 빅데이터를 기반으로 상장종목의 월별 매출 추세를 추산해 지수 정보 제공
* 국제코드 종목의 작업기준년월, 가맹점명, 국제종목코드, Z스코어를 조회하는 API
* BC카드가 표준화한 z값만 제공하며, 평균/표준편차는 공개되지 않음

{% hint style="info" %}
_**BC카드 제공**_
{% endhint %}

### RA테스트베드 알고리즘 

* 알고리즘이 운용한 포트폴리오의 운용계좌별 운용실적을 제공
* RA테스트베드 운용심사를 진행 중이거나 완료한 알고리즘 목록을 조회
* 알고리즘 운용계좌별 기준가, 전일등락폭, 기간별 수익률 등을 운용실적을 조회
* 알고리즘 운용계좌별 기간 표준편차, 샤프지수 등의 위험 및 성과 지표를 조회

{% hint style="info" %}
_**코스콤/RA테스트베드 사무국 제공**_
{% endhint %}

### BIGBOT

* 사용자가 요청한 주식 종목을 BIGBOT의 로직으로 분석해 결과를 제공
* 조회일 기준 BIGBOT의 로직에 의해 선정된 종목들을 유형에 따라 포트폴리오를 구성하여 제공
* BIGBOT에서 제공하는 설문을 통해 투자자의 성향을 조사해 적합한 포트폴리오 유형을 제공
* 사용자가 요청한 종목들을 BIGBOT의 로직에 의해 평가해 포트폴리오에서 종목의 편출 여부를 제공
* 사용자가 요청한 종목들을 BIGBOT의 로직에 의해 자산을 배분

{% hint style="info" %}
_**빅트리 제공**_
{% endhint %}

{% page-ref page="analysis/" %}

## 검색 서비스

### 금융사기 피해이력 조회

* 연락처 및 계좌번호의 금융사기피해 이력 유무 조회

{% hint style="info" %}
_**더치트 제공**_
{% endhint %}

{% page-ref page="search/" %}



{% hint style="warning" %}
해당 온라인 공용매뉴얼에 기술되지 않은 **기타 API** 관련 매뉴얼은   
'코스콤 개발자 센터 &gt; API 문서 &gt; [참조문서](https://developers.koscom.co.kr/documentation/reference)’ 에서 확인하세요.
{% endhint %}



